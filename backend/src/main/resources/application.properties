
# #############################################
# # 1. Cấu hình DataSource (SQL Server)
# #############################################
# # spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=DNATestingService;encrypt=true;trustServerCertificate=true
# # spring.datasource.username=sa
# # spring.datasource.password=1234567890
# # spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# spring.datasource.url=${DATABASE_URL:jdbc:sqlserver://dnatestingservice.cd8asiyc4ffp.ap-southeast-2.rds.amazonaws.com:1433;databaseName=DNATestingService;encrypt=true;trustServerCertificate=true;connectionTimeout=30000;loginTimeout=30000;socketTimeout=60000}
# spring.datasource.username=${DATABASE_USERNAME:admin}
# spring.datasource.password=${DATABASE_PASSWORD:1234567890}
# spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver
server.port=8080
server.ssl.key-store=classpath:leafshop.p12
server.ssl.key-store-password=changeit
server.ssl.key-store-type=PKCS12
# #############################################
# # 2. Cấu hình JPA / Hibernate
# #############################################
# # Sử dụng đúng Dialect cho SQL Server
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect

# # Cho phép Hibernate tự động tạo/update schema
# spring.jpa.hibernate.ddl-auto=update

# # In ra câu SQL do Hibernate sinh (giúp debug)
# spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.format_sql=false

# # Giữ nguyên tên bảng/cột như trong entity
# spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# # Escape identifier trong dấu ngoặc kép
# spring.jpa.properties.hibernate.globally_quoted_identifiers=true

# #############################################
# # 3. Enable SQL Initialization (schema + data).\mvnw.cmd spring-boot:run
# #############################################
# # Enable SQL initialization
# spring.sql.init.mode=never
# # spring.sql.init.schema-locations=classpath:schema.sql
# spring.jpa.defer-datasource-initialization=true
# spring.jpa.hibernate.ddl-auto=update

#############################################
# 4. Cấu hình Swagger / OpenAPI (Springdoc)
#############################################
# Đường dẫn truy cập Swagger UI
springdoc.swagger-ui.path=/swagger-ui.html

# Đường dẫn trả về API Docs (JSON)
springdoc.api-docs.path=/api-docs

# Sắp xếp và bật các tính năng trong Swagger UI
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true
springdoc.swagger-ui.filter=true
springdoc.swagger-ui.syntaxHighlight.activated=true

# Bật/tắt hoàn toàn Swagger UI và API Docs
springdoc.swagger-ui.enabled=true
springdoc.api-docs.enabled=true

# Thêm cấu hình bổ sung cho Swagger
springdoc.swagger-ui.disable-swagger-default-url=true
springdoc.swagger-ui.config-url=/api-docs/swagger-config
springdoc.swagger-ui.url=/api-docs
spring.security.user.name=${SWAGGER_USERNAME:swagger}
spring.security.user.password=${SWAGGER_PASSWORD:swagger}

#############################################
# 5. Cấu hình JWT
#############################################
app.jwt.secret=bloodline_dna_testing_system_jwt_secret_key_for_security
app.jwt.expiration=86400000

#############################################
# 6. Cấu hình Logging
#############################################
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.com.bloodline=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.zaxxer.hikari=DEBUG

# Logging pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Server configuration
server.port=8080
server.address=0.0.0.0

# Encoding configuration
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# CORS configuration
spring.web.cors.allowed-origins=http://localhost:3000,http://localhost:3001,http://localhost:8080,http://127.0.0.1:3000,http://127.0.0.1:3001,http://127.0.0.1:8080,http://dna-chain.bloodline:3000,http://dna-chain.bloodline:8080,https://dna-chain-wed-fpt-89yn.vercel.app,https://dna-chain-bloodline.vercel.app
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600

# Đảm bảo nó đúng như thế này:
file.upload-dir=uploads

#############################################
# 7. Cấu hình Email (Gmail SMTP)
#############################################
# Để gửi qua Gmail thật:
# 1. Tạo App Password tại: https://myaccount.google.com/apppasswords
# 2. Copy 16 ký tự App Password
# 3. Set environment variable: $env:MAIL_PASSWORD = "your-app-password"
# Hoặc thay thế trực tiếp vào MAIL_PASSWORD bên dưới
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

#############################################
# 7. Cấu hình Payment Gateways
#############################################

# VNPAY Configuration (Sandbox/Test environment)
# Get these from: https://sandbox.vnpayment.vn/
# Terminal ID: DGFCRW4A
# Secret Key: TP1G32NIPPFR1FNX0F8GLCZHM8QBD9Y6
vnpay.tmnCode=${VNPAY_TMN_CODE:DGFCRW4A}
vnpay.hashSecret=${VNPAY_HASH_SECRET:TP1G32NIPPFR1FNX0F8GLCZHM8QBD9Y6}
vnpay.url=${VNPAY_URL:https://sandbox.vnpayment.vn/paymentv2/vpcpay.html}
vnpay.returnUrl=${VNPAY_RETURN_URL:https://d2bk5r8qpr2ye6.cloudfront.net/payment-return}
vnpay.version=2.1.0
vnpay.command=pay
vnpay.orderType=other

# MoMo Configuration (Test environment)
# Using public test credentials from MoMo docs: https://developers.momo.vn/v3/docs/payment/api/wallet/onetime
# Test phone: 0963181714, OTP: 123456
momo.partnerCode=${MOMO_PARTNER_CODE:MOMOBKUN20180529}
momo.accessKey=${MOMO_ACCESS_KEY:klm05TvNBzhg7h7j}
momo.secretKey=${MOMO_SECRET_KEY:at67qH6mk8w5Y1nAyMoYKMWACiEi2bsa}
momo.endpoint=${MOMO_ENDPOINT:https://test-payment.momo.vn/v2/gateway/api/create}
momo.returnUrl=${MOMO_RETURN_URL:http://localhost:3001/payment-return}
momo.notifyUrl=${MOMO_NOTIFY_URL:http://localhost:8080/api/payments/momo/callback}

# Stripe Configuration (optional)
stripe.api.key=${STRIPE_API_KEY:}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET:}

#############################################
# 8. AWS S3 Configuration (Development)
#############################################
# Sử dụng environment variables với default values
aws.access.key.id=${AWS_ACCESS_KEY_ID:}
aws.secret.access.key=${AWS_SECRET_ACCESS_KEY:}
aws.s3.region=${AWS_S3_REGION:us-east-1}
aws.s3.bucket.name=${AWS_S3_BUCKET_NAME:amzn-s3-photo-bucket}

# AWS global region used by SDK clients (fallback to S3 region if not set)
aws.region=${AWS_REGION:${AWS_S3_REGION:us-east-1}}


# Bedrock configuration (invoke endpoint or full invoke URL can be provided)
bedrock.endpoint=${BEDROCK_ENDPOINT:}
bedrock.modelId=${BEDROCK_MODEL_ID:}

# AWS Translate Configuration
aws.translate.region=${AWS_TRANSLATE_REGION:us-east-1}
aws.translate.enabled=${AWS_TRANSLATE_ENABLED:false}

# Translate defaults
translate.source=${TRANSLATE_SOURCE:en}
translate.target=${TRANSLATE_TARGET:vi}

#############################################
# 9. AWS DynamoDB Configuration
#############################################
# DynamoDB endpoint (leave empty to use AWS DynamoDB). Previously defaulted to local.
aws.dynamodb.endpoint=${AWS_DYNAMODB_ENDPOINT:}
aws.dynamodb.region=${AWS_DYNAMODB_REGION:us-east-1}

#############################################
# 10. Redis Cache (Spring Cache)
#############################################
# Use ElastiCache (Redis) connection string via environment variable
spring.cache.type=redis
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
# Optional: password if your Redis requires AUTH
spring.redis.password=${REDIS_PASSWORD:}

#############################################
# 11. AWS SES (Email)
#############################################
# Region for SES
aws.ses.region=${AWS_SES_REGION:us-east-1}
# Optional: override credentials via env vars AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY
# From-address used when sending emails
aws.ses.from=${AWS_SES_FROM:no-reply@example.com}

